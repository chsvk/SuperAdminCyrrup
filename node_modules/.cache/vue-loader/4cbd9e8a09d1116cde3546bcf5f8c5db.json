{"remainingRequest":"D:\\Development\\Web Development\\Cyrrup\\admin-dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Development\\Web Development\\Cyrrup\\admin-dashboard\\src\\views\\Drivers.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Development\\Web Development\\Cyrrup\\admin-dashboard\\src\\views\\Drivers.vue","mtime":1535028906860},{"path":"D:\\Development\\Web Development\\Cyrrup\\admin-dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":0},{"path":"D:\\Development\\Web Development\\Cyrrup\\admin-dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {db} from '../main'\r\nexport default {\r\n    data(){\r\n        return{\r\n            drivers: [],\r\n            orgs: []\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getOrg();\r\n    },\r\n    methods: {\r\n        getOrg: function(e){\r\n                var collectionRef = db.collection(\"admin_api_requests\");\r\n\t\t\t\tvar responseCollectionRef = db.collection(\"admin_response\");\r\n\t\t\t\tvar userObject = {\r\n\t\t\t\t   \t userId:\"10\"\r\n\t\t\t\t}\r\n\t\t\t\tcollectionRef.add({\r\n\t\t\t\t    api_name:\"organisation_get_list\",\r\n\t\t\t\t    request:userObject\r\n\t\t\t\t})\r\n\t\t\t\t.then((docRef)=> {\r\n\t\t\t\t    console.log(\"Request object successfully created\")\r\n\t\t\t\t    docRef.onSnapshot(doc => {\r\n                        \r\n\t\t\t\t\tif(doc.data().response.check){\r\n                        this.orgs = doc.data().response.organisation_list;\r\n                        console.log(this.orgs);\r\n                    }\r\n\t\t\t\t    })\r\n\t\t\t\t    }).catch(err => {\r\n                        console.log('this error');\r\n\t\t\t\t    console.log(err)\r\n                })\r\n    },\r\n    run: function(e){\r\n        if(e.target.options.selectedIndex > 0) {\r\n                var id = e.target.options[e.target.options.selectedIndex].value;\r\n             var collectionRef = db.collection(\"admin_api_requests\");\r\n                var responseCollectionRef = db.collection(\"admin_response\");\r\n                var userObject = {\r\n                        userId:\"10\",\r\n                     organisation_id: id\r\n                }\r\n                collectionRef.add({\r\n                    api_name:\"organisation_get_vehicle_driver\",\r\n                    request:userObject\r\n                })\r\n                .then((docRef)=> {\r\n                    console.log(\"Request object successfully created\")\r\n                    docRef.onSnapshot(doc=>{\r\n                        console.log(doc.data());\r\n                    if(doc.data().response.check){\r\n                        this.drivers = doc.data().response.driver_list;\r\n                        console.log(this.drivers);\r\n                        // this.vehicles = doc.data().response.vehicle_list;\r\n                    }\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n        }\r\n    }\r\n}\r\n}\r\n",{"version":3,"sources":["Drivers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Drivers.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n    <div class=\"drivers\">\r\n        <div class=\"infographic\">\r\n        <h1>Drivers</h1>\r\n        <h3>Select Organization</h3>\r\n        <select v-on:change=\"run\" name=\"Organization\" id=\"\">\r\n            <option value=\"0\">Select Organization</option>\r\n            <option v-for=\"org in orgs\" :value=\"org.organisation_id\">{{org.name}}</option>\r\n        </select>\r\n        </div>\r\n        <div class=\"driversList\">\r\n        <div class=\"card\" v-for=\"driver in drivers\">\r\n            <h2>Name: {{driver.name}}</h2>\r\n            <h2>ID: {{driver.driver_id}}</h2>\r\n            <button>Edit Driver</button>\r\n            <button>Delete</button>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../main'\r\nexport default {\r\n    data(){\r\n        return{\r\n            drivers: [],\r\n            orgs: []\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getOrg();\r\n    },\r\n    methods: {\r\n        getOrg: function(e){\r\n                var collectionRef = db.collection(\"admin_api_requests\");\r\n\t\t\t\tvar responseCollectionRef = db.collection(\"admin_response\");\r\n\t\t\t\tvar userObject = {\r\n\t\t\t\t   \t userId:\"10\"\r\n\t\t\t\t}\r\n\t\t\t\tcollectionRef.add({\r\n\t\t\t\t    api_name:\"organisation_get_list\",\r\n\t\t\t\t    request:userObject\r\n\t\t\t\t})\r\n\t\t\t\t.then((docRef)=> {\r\n\t\t\t\t    console.log(\"Request object successfully created\")\r\n\t\t\t\t    docRef.onSnapshot(doc => {\r\n                        \r\n\t\t\t\t\tif(doc.data().response.check){\r\n                        this.orgs = doc.data().response.organisation_list;\r\n                        console.log(this.orgs);\r\n                    }\r\n\t\t\t\t    })\r\n\t\t\t\t    }).catch(err => {\r\n                        console.log('this error');\r\n\t\t\t\t    console.log(err)\r\n                })\r\n    },\r\n    run: function(e){\r\n        if(e.target.options.selectedIndex > 0) {\r\n                var id = e.target.options[e.target.options.selectedIndex].value;\r\n             var collectionRef = db.collection(\"admin_api_requests\");\r\n                var responseCollectionRef = db.collection(\"admin_response\");\r\n                var userObject = {\r\n                        userId:\"10\",\r\n                     organisation_id: id\r\n                }\r\n                collectionRef.add({\r\n                    api_name:\"organisation_get_vehicle_driver\",\r\n                    request:userObject\r\n                })\r\n                .then((docRef)=> {\r\n                    console.log(\"Request object successfully created\")\r\n                    docRef.onSnapshot(doc=>{\r\n                        console.log(doc.data());\r\n                    if(doc.data().response.check){\r\n                        this.drivers = doc.data().response.driver_list;\r\n                        console.log(this.drivers);\r\n                        // this.vehicles = doc.data().response.vehicle_list;\r\n                    }\r\n                    })\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n        }\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n    .driversList{\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr 1fr;\r\n        grid-gap: 1em;\r\n    }\r\n    .card {\r\n    /* Add shadows to create the \"card\" effect */\r\n\tpadding: 20px;\r\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\r\n    transition: 0.3s;\r\n    }\r\n\r\n     /* On mouse-over, add a deeper shadow */\r\n    .card:hover {\r\n        box-shadow: 0 8px 16px 0 rgba(255,165,0,0.6);\r\n    }\r\n\r\n    .infographic{\r\n        padding: 2em;\r\n    }\r\n\r\n</style>\r\n\r\n"]}]}